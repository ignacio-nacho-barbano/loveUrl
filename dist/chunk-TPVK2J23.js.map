{"version":3,"sources":["../src/internal/config.ts"],"names":["defaultConfig","_a","_b","currentURL","GLOBAL_CONFIG","initializeLoveUrl","userConfig","__spreadValues"],"mappings":"2CAaO,IAAMA,CAAAA,CAA+B,CAC1C,eAAA,CAAiB,IAAA,CACjB,WAAA,CAAa,IAAM,CAfrB,IAAAC,CAAAA,CAAAC,CAAAA,CAgBI,IAAMC,CAAAA,CAAAA,CAAaD,GAAAD,CAAAA,CAAA,UAAA,EAAA,IAAA,CAAA,MAAA,CAAA,UAAA,CAAY,MAAA,GAAZ,IAAA,CAAA,MAAA,CAAAA,CAAAA,CAAoB,QAAA,GAApB,IAAA,CAAA,MAAA,CAAAC,CAAAA,CAA8B,IAAA,CAEjD,OAAIC,CAAAA,GAEJ,OAAA,CAAQ,IAAA,CACN,CAAA;AAAA;AAAA,sDAAA,CACF,CAAA,CAEO,GAAA,CACT,CAAA,CACA,cAAA,CAAgB,KAAA,CAChB,gBAAiB,IAAM,CACrB,MAAM,gCACR,CAAA,CACF,CAAA,CAGWC,EAA+BJ,EAEnC,SAASK,CAAAA,CAAkBC,CAAAA,CAAoC,CACpE,OAAAF,EAAgBG,GAAAA,CAAAA,GAAAA,CAAA,EAAA,CACXH,CAAAA,CAAAA,CACAE,CAAAA,CAAAA,CAGEF,CACT","file":"chunk-TPVK2J23.js","sourcesContent":["import type { buildSearchParamsQueryString } from \"./buildSearchParams\";\n\nexport type LoveUrlConfig = {\n  /** build relative urls by default when called without specifying a full url or domain */\n  defaultRelative: boolean;\n  /** used to identify arrays and separate array members; by default an array will be comma separated which can cause issues in some browsers when combined with strings with commas; also if there's a single entry; it's impossible to know that the original data format was an array; this ensures data and type consistency */\n  arraySeparator: string;\n  /** Source for the current url, by default it is the window.location.href; if you use SSR provide a function to get an object of the same format on the server */\n  urlProvider: () => string;\n  /** custom params builder; provided through dependency injection for testing purposes.  */\n  _paramsBuilder: typeof buildSearchParamsQueryString;\n};\n\nexport const defaultConfig: LoveUrlConfig = {\n  defaultRelative: true,\n  urlProvider: () => {\n    const currentURL = globalThis?.window?.location?.href;\n\n    if (currentURL) return currentURL;\n\n    console.warn(\n      \"loveurl: warning.\\n Please define a urlProvider in the config; default window object is not available. \\n This usually happens in the context of a SSR project.\"\n    );\n\n    return \"/\";\n  },\n  arraySeparator: \"_._\",\n  _paramsBuilder: (() => {\n    throw \"params builder not initialized\";\n  }) as LoveUrlConfig[\"_paramsBuilder\"],\n};\n\n/** Config memory object */\nexport let GLOBAL_CONFIG: LoveUrlConfig = defaultConfig;\n\nexport function initializeLoveUrl(userConfig: Partial<LoveUrlConfig>) {\n  GLOBAL_CONFIG = {\n    ...GLOBAL_CONFIG,\n    ...userConfig,\n  };\n\n  return GLOBAL_CONFIG;\n}\n"]}