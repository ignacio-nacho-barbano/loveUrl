{"version":3,"sources":["../src/internal/parseLoveUrl.ts"],"names":["parseLoveUrl","params","validations","parseAsString","paramsObj","parseAndDecodeSearchString","key","prop","validation"],"mappings":"oCAGO,IAAMA,CAAAA,CAAe,CAC1BC,CAAAA,CACA,CAAE,YAAAC,CAAAA,CAAa,aAAA,CAAAC,CAAc,CAAA,CAAqB,EAAC,GAC/B,CACpB,IAAMC,EAAYC,CAAAA,CAChB,OAAOJ,CAAAA,EAAW,QAAA,CAAWA,CAAAA,CAASA,CAAAA,CAAO,QAAA,EAAS,CACtD,CAAE,aAAA,CAAAE,CAAc,CAClB,CAAA,CAEA,OAAI,OAAOC,CAAAA,EAAc,QAAA,EACvB,QAAQ,KAAA,CAAM,CAAA;AAAA,CAAA,CAAgCH,CAAM,CAAA,CAC7C,EAAC,GAGNC,GACF,MAAA,CAAO,IAAA,CAAKA,CAAW,CAAA,CAAE,OAAA,CAASI,CAAAA,EAAQ,CACxC,IAAMC,EAAOH,CAAAA,CAAUE,CAAc,CAAA,CAC/BE,CAAAA,CAAaN,CAAAA,CAAYI,CAAc,CAAA,CAEzCC,CAAAA,EAAQ,EAACC,CAAAA,EAAA,IAAA,EAAAA,CAAAA,CAAaD,CAAAA,CAAAA,CAAAA,GACxBH,EAAUE,CAAc,CAAA,CAAI,MAAA,EAEhC,CAAC,EAGIF,CAAAA,CACT","file":"chunk-HUWW3ZGF.js","sourcesContent":["import { ParamsQuery, ParseOptions, ParamsObject } from \"./buildSearchParams\";\nimport { parseAndDecodeSearchString } from \"./encodeAndDecodeSearchStrings\";\n\nexport const parseLoveUrl = <T>(\n  params: ParamsQuery,\n  { validations, parseAsString }: ParseOptions<T> = {}\n): ParamsObject<T> => {\n  const paramsObj = parseAndDecodeSearchString<T>(\n    typeof params === \"string\" ? params : params.toString(),\n    { parseAsString }\n  );\n\n  if (typeof paramsObj !== \"object\") {\n    console.error(\"Error when parsing params:\\n\", params);\n    return {};\n  }\n\n  if (validations) {\n    Object.keys(validations).forEach((key) => {\n      const prop = paramsObj[key as keyof T];\n      const validation = validations[key as keyof T];\n\n      if (prop && !validation?.(prop)) {\n        paramsObj[key as keyof T] = undefined;\n      }\n    });\n  }\n\n  return paramsObj as ParamsObject<T>;\n};\n"]}